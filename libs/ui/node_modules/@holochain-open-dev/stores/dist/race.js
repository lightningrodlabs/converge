import { derived } from "svelte/store";
// Returns the value of the first store that completes
// After the first value is received, the value of this store won't change
export function race(stores) {
    let found;
    return derived(stores, (values) => {
        if (found)
            return {
                status: "complete",
                value: found,
            };
        const firstCompleted = values.find((v) => v.status === "complete");
        if (firstCompleted) {
            found = firstCompleted.value;
            return {
                status: "complete",
                value: found,
            };
        }
        return {
            status: "pending",
        };
    });
}
//# sourceMappingURL=race.js.map