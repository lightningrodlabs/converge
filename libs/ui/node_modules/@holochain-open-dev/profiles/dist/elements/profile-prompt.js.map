{"version":3,"file":"profile-prompt.js","sourceRoot":"","sources":["../../src/elements/profile-prompt.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAC5D,OAAO,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,eAAe,CAAC;AAC/C,OAAO,EAAE,OAAO,EAAE,MAAM,mBAAmB,CAAC;AAC5C,OAAO,EAAE,eAAe,EAAE,MAAM,4BAA4B,CAAC;AAC7D,OAAO,EAAE,YAAY,EAAE,MAAM,8BAA8B,CAAC;AAE5D,OAAO,6DAA6D,CAAC;AACrE,OAAO,6DAA6D,CAAC;AAErE,OAAO,qBAAqB,CAAC;AAG7B,OAAO,EAAE,oBAAoB,EAAE,MAAM,eAAe,CAAC;AAGrD;;;GAGG;AAGI,IAAM,aAAa,GAAnB,MAAM,aAAc,SAAQ,UAAU;IAAtC;;QAQL,yBAAyB;QAEzB;;WAEG;QACK,eAAU,GAAG,IAAI,eAAe,CACtC,IAAI,EACJ,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAC1B,GAAG,EAAE,CAAC,EAAE,CACT,CAAC;IAgDJ,CAAC;IA9CC,YAAY,CAAC,SAA8B;QACzC,IAAI,SAAS;YAAE,OAAO,IAAI,CAAA,eAAe,CAAC;QAE1C,OAAO,IAAI,CAAA;;;;;;;;;;KAUV,CAAC;IACJ,CAAC;IAED,MAAM;QACJ,QAAQ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE;YACpC,KAAK,SAAS;gBACZ,OAAO,IAAI,CAAA;;;;;eAKJ,CAAC;YACV,KAAK,UAAU;gBACb,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACxD,KAAK,OAAO;gBACV,OAAO,IAAI,CAAA;sBACG,GAAG,CAAC,6BAA6B,CAAC;mBACrC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK;2BACnB,CAAC;SACvB;IACH,CAAC;IAED,MAAM,KAAK,MAAM;QACf,OAAO;YACL,YAAY;YACZ,GAAG,CAAA;;;;;OAKF;SACF,CAAC;IACJ,CAAC;CACF,CAAA;AA3DC;IAFC,OAAO,CAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;IAC3D,QAAQ,EAAE;4CACW;AANX,aAAa;IAFzB,SAAS,EAAE;IACX,aAAa,CAAC,gBAAgB,CAAC;GACnB,aAAa,CAiEzB;SAjEY,aAAa","sourcesContent":["import { css, html, LitElement } from \"lit\";\nimport { property, customElement } from \"lit/decorators.js\";\nimport { localized, msg } from \"@lit/localize\";\nimport { consume } from \"@lit-labs/context\";\nimport { StoreSubscriber } from \"@holochain-open-dev/stores\";\nimport { sharedStyles } from \"@holochain-open-dev/elements\";\n\nimport \"@shoelace-style/shoelace/dist/components/spinner/spinner.js\";\nimport \"@holochain-open-dev/elements/dist/elements/display-error.js\";\n\nimport \"./create-profile.js\";\n\nimport { ProfilesStore } from \"../profiles-store.js\";\nimport { profilesStoreContext } from \"../context.js\";\nimport { Profile } from \"../types.js\";\n\n/**\n * @element profile-prompt\n * @slot hero - Will be displayed above the create-profile form when the user is prompted with it\n */\n@localized()\n@customElement(\"profile-prompt\")\nexport class ProfilePrompt extends LitElement {\n  /**\n   * Profiles store for this element, not required if you embed this element inside a <profiles-context>\n   */\n  @consume({ context: profilesStoreContext, subscribe: true })\n  @property()\n  store!: ProfilesStore;\n\n  /** Private properties */\n\n  /**\n   * @internal\n   */\n  private _myProfile = new StoreSubscriber(\n    this,\n    () => this.store.myProfile,\n    () => []\n  );\n\n  renderPrompt(myProfile: Profile | undefined) {\n    if (myProfile) return html`<slot></slot>`;\n\n    return html`\n      <div\n        class=\"column\"\n        style=\"align-items: center; justify-content: center; flex: 1; padding-bottom: 10px;\"\n      >\n        <div class=\"column\" style=\"align-items: center;\">\n          <slot name=\"hero\"></slot>\n          <create-profile></create-profile>\n        </div>\n      </div>\n    `;\n  }\n\n  render() {\n    switch (this._myProfile.value.status) {\n      case \"pending\":\n        return html` <div\n          class=\"column\"\n          style=\"align-items: center; justify-content: center; flex: 1;\"\n        >\n          <sl-spinner style=\"font-size: 2rem;\"></sl-spinner>\n        </div>`;\n      case \"complete\":\n        return this.renderPrompt(this._myProfile.value.value);\n      case \"error\":\n        return html`<display-error\n          .headline=${msg(\"Error fetching your profile\")}\n          .error=${this._myProfile.value.error}\n        ></display-error> `;\n    }\n  }\n\n  static get styles() {\n    return [\n      sharedStyles,\n      css`\n        :host {\n          display: flex;\n          flex: 1;\n        }\n      `,\n    ];\n  }\n}\n"]}