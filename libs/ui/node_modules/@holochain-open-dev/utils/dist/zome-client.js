import { isSignalFromCellWithRole } from "./cell.js";
export class ZomeClient {
    constructor(client, roleName, zomeName) {
        this.client = client;
        this.roleName = roleName;
        this.zomeName = zomeName;
    }
    onSignal(listener) {
        return this.client.on("signal", async (signal) => {
            if ((await isSignalFromCellWithRole(this.client, this.roleName, signal)) &&
                this.zomeName === signal.zome_name) {
                listener(signal.payload);
            }
        });
    }
    callZome(fn_name, payload) {
        const req = {
            role_name: this.roleName,
            zome_name: this.zomeName,
            fn_name,
            payload,
        };
        return this.client.callZome(req);
    }
}
//# sourceMappingURL=zome-client.js.map